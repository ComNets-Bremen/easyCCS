{% extends "base_generic.html" %}

{% block content %}
<h1>SkillGraph</h1>

{% if requiredContents %}
<h2>Resulting graph for target skill{% if targetSkills|length > 1 %}s{%endif%}
    {% for skill in targetSkills %}
        <i>{{skill.skillName}}</i>
        {% if forloop.last %}
        {% else %}
        , 
        {% endif %}
    {% endfor %}

</h2>


 <table style="width:100%">
  <tr>
    <th>Content</th>
    <th>Content level</th>
    <th>Required Skills</th>
    <th>New Skills</th>
  </tr>

{% for content in requiredContents %}
  <tr>
      <td>{{ content.content.contentName}}</td>
      <td>{{ content.level }}</td>
      <td>
          {% if content.content.requiredSkills.all %}
          <ul>
              {% for req in content.content.requiredSkills.all %}
              <li> {{ req.skillName }}</li>
              {% endfor %}
          </ul>
          {% else %}
             No skill required
          {% endif %}
      </td>
      <td><ul>
              {% for req in content.content.newSkills.all %}
              <li> {{ req.skillName }}</li>
              {% endfor %}
      </ul></td>
  </tr>

{% endfor %}

 </table>

{% else %}
<p>No content modules found</p>
{% endif %}

<hr>
<h2>Select skills</h2>

<form action="" method="post">

    {% csrf_token %}

    {{form}}

    <input type="submit" value="Submit">

</form>

{% endblock %}
